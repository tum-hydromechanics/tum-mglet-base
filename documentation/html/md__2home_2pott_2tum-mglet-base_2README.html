<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mglet-base: MGLET-base flow solver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">mglet-base
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">MGLET-base flow solver</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>MGLET-base is an incompressible Navier-Stokes flow solver written in Fortran, provided by <a href="https://km-turbulenz.de/">KM Turbulenz GmbH</a>.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Relationship to commercial MGLET</h1>
<p>The present MGLET-base is a subset of the commercial product MGLET developed and sold by <a href="https://km-turbulenz.de/">KM Turbulenz GmbH</a> since 2005. This open source code base was established in 2023 to provide a framework for contributions and interactions with academic user communities. The present MGLET-base contains the following features:</p>
<ul>
<li>Incompressible flow solver</li>
<li>Ghost cell immersed boundary method for DNS and low-Re wall-resolved LES of stationary geometries</li>
</ul>
<p>The commercial MGLET contains the following additional features and advantages:</p>
<ul>
<li>Unique cut-cell immersed boundary method for high-Re and wall-modeled simulations, with the possibility of doing moving geometries</li>
<li>Aeroacoustic solver capable of predicting flow noise, with a huge variety of options on boundary conditions, loudspeakers, damping materials, acoustic feedback and various acoustic evaluation tools</li>
<li>Structural solver for acoustic-fluid-structure-interaction</li>
<li>Advanced and efficient grid-generator with many refinement options such as refinement boxes, surfaces and volumes, giving large flexibility in grid shapes and setups. With this tool, grids are generated in seconds.</li>
<li>A comprehensive set of integrated run-time sampling and postprocessing options, including surface loads, wall-shear stresses, Fourier transforms of 3-D volumetric fields, sound sources and more</li>
<li>Postprocessing options with integration and output to Paraview, generation of volumetric- and surface-fields, automatic image generation, spectra generation and plotting</li>
<li>A comprehensive report tool to generate automatic reports from a simulation</li>
<li>Workflow management solutions that streamline the configuration, execution and post-processing of a simulation</li>
<li>A finished distribution package ready to use on any HPC system including comprehensive documentation</li>
<li>User training and support</li>
</ul>
<p>If you need a turnkey solution for flow simulations, KM Turbulenz GmbH provides MGLET as a ready-to-use commercial flow and aeroacoustic solver including everything listed above and more. Please <a href="https://km-turbulenz.de/about/">contact us</a> for a discussion about the possibilities MGLET will give you.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Purpose of MGLET-base</h1>
<p>The present code is a new and modern re-implementation of the "traditional" and well-known MGLET numerics that date back to the 1980's. The code is re-implemented Fortran 2018 making use of modern programming techniques to improve flexibility and expandability.</p>
<p>The purpose of the MGLET-base is to provide high-quality building blocks for academic work in flow simulations. The code is built to be easily expandable for specific projects and needs. Implementing new physical models for any transport phenomena should be easy. Although the present code compiles and runs certain basic flow cases, it is not intended as the final tool for any specific task or need. Instead, it serves as a starting point for further developments of specific features.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Brief history</h2>
<ul>
<li>1980's: Initial version developed by Heinrich Werner within the scope of his dissertation "Grobstruktursimulation der turbulenten Strömung über eine
querliegende Rippe in einem Plattenkanal bei hoher Reynoldszahl". Performing high-Reynolds number large-eddy simulations of turbulent channel flows with obstacles on Cray X-MP and Y-MP vector computers.</li>
<li>1990's: Michael Manhart introduced message passing with the MPI library and the multi-grid approach, including local grid refinement. Since this time the code was named **M**ulti-**G**rid-**L**arge-**E**ddy-**T**urbulence.</li>
<li>2000's: Frederic Tremblay, Nikolaus Peller and Johannes Kreuzinger: Ghost-cell immersed boundary implementation.</li>
<li>2005: <a href="https://km-turbulenz.de/">KM Turbulenz GmbH</a> is founded and acquired necessary rights to the MGLET code from TU Munich.</li>
<li>2005 -&gt; present: KM Turbulenz develops MGLET into a commercial state-of-the art flow and aeroacoustics solver</li>
<li>2023: MGLET-base open source core released</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Numerical properties</h1>
<p>MGLET uses staggered, Cartesian grids organized in a overlapping, hierarchical multi-level pattern allowing local grid refinement.</p>
<p>The staggered arrangement of the flow variables allows for energy conserving spatial schemes. Coupled with explicit Runge-Kutta time integration methods it is tailored for DNS and LES simulations of flows at a wide range of Reynolds numbers.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Performance and scaling</h1>
<p>MGLET's handling of many independent Cartesian grids is very efficient, and simulations have been conducted with over 250 000 grids of size 24x24x24 - that is nearly 3.5 billion grid cells. It has also been proven to run on tens of thousands of MPI ranks in big supercomputers throughout Europe.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Building MGLET-base</h1>
<p>The most important build requirement is a set with C, C++ and Fortran compiler with Fortran 2008 + TS 29113 support. Then you will need an MPI library and a HDF5 library with MPI support.</p>
<p>The code is currently tested with GNU compilers version &gt;= 11.2 and Intel compilers from the oneAPI toolkits version &gt;= 2022.2.1. Older compilers than these will typically not work.</p>
<p>Since version 7.2 build 7213, the <a href="https://nag.com/fortran-compiler/">NAG Fortran compiler</a> also compiles a working binary that runs all testcases successfully. This is only tested on x64 Linux systems.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Dependencies</h2>
<ul>
<li>An MPI implementation of your choice that provides the <code>MPI_f08</code> Fortran bindings</li>
<li>HDF5: <a href="https://github.com/HDFGroup/hdf5">https://github.com/HDFGroup/hdf5</a></li>
<li>CMake: <a href="https://cmake.org/download/">https://cmake.org/download/</a></li>
</ul>
<p>The following dependencies are fetched and built automatically by CMake:</p>
<ul>
<li>Nlohman JSON: <a href="https://github.com/nlohmann/json">https://github.com/nlohmann/json</a></li>
<li>Exprtk: <a href="https://github.com/ArashPartow/exprtk">https://github.com/ArashPartow/exprtk</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md20"></a>
Build instructions</h2>
<p>MGLET-base make use of <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html">CMake presets</a> to store a default set of build settings for the most common environments. There are currently four pre-defined presets:</p>
<ul>
<li><code>gnu-debug</code>: GNU compilers <code>gcc</code>, <code>g++</code> and <code>gfortran</code> with common debug flags</li>
<li><code>gnu-release</code>: GNU compilers <code>gcc</code>, <code>g++</code> and <code>gfortran</code> with flags for release (performance-optimized) builds</li>
<li><code>intel-debug</code>: Intel compilers <code>icx</code>, <code>icpx</code> and <code>ifx</code> with common debug flags</li>
<li><code>intel-release</code>: Intel compilers <code>icx</code>, <code>icpx</code> and <code>ifx</code> with flags for release (performance-optimized) builds</li>
<li><code>nag-debug</code>: NAG Fortran compiler <code>nagfor</code> with GNU C and C++ compilers <code>gcc</code> and <code>g++</code> with debug flags. This configuration is very effective of discovering errors that the Intel and GNU compilers cannot detect.</li>
<li><code>nag-release</code>: NAG Fortran compiler <code>nagfor</code> with GNU C and C++ compilers <code>gcc</code> and <code>g++</code> with flags for release (performance-optimized) builds.</li>
</ul>
<p>In order to build MGLET there is a few simple steps to follow:</p>
<ol type="1">
<li>Check out the source code</li>
<li>Create a separate <code>build</code> directory in the source code root and enter that directory: <code>mkdir build &amp;&amp; cd build</code></li>
<li>Run CMake: <code>cmake --preset=gnu-release ..</code> (replace the preset with your desired one)</li>
<li>Compile: <code>make</code></li>
<li>Run tests: <code>ctest --output-on-failure --test-dir tests</code></li>
</ol>
<h1><a class="anchor" id="autotoc_md21"></a>
License and trademarks</h1>
<p>MGLET is a registered trademark of Kreuzinger und Manhart Turbulenz GmbH.</p>
<p>The present code is licensed under the Apache License, Version 2.0 (the "License"). A copy of the license is contained in this repository or at: </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
